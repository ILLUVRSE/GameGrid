const regionThemes = {
  Americas: {
    fill: "#0b101b",
    line: "rgba(120,200,255,0.35)",
    accent: "rgba(67,217,173,0.55)",
    haze: "rgba(72, 140, 220, 0.16)",
  },
  Europe: {
    fill: "#0e1016",
    line: "rgba(200,200,230,0.35)",
    accent: "rgba(142,120,255,0.5)",
    haze: "rgba(140, 120, 255, 0.16)",
  },
  Africa: {
    fill: "#140f0b",
    line: "rgba(255,210,140,0.35)",
    accent: "rgba(255,160,90,0.55)",
    haze: "rgba(255, 170, 90, 0.16)",
  },
  Asia: {
    fill: "#0b0f16",
    line: "rgba(140,220,255,0.35)",
    accent: "rgba(120,180,255,0.55)",
    haze: "rgba(90, 170, 255, 0.16)",
  },
  Oceania: {
    fill: "#0b1416",
    line: "rgba(120,240,220,0.35)",
    accent: "rgba(90,220,200,0.5)",
    haze: "rgba(90, 220, 200, 0.16)",
  },
};

const themeFor = (region, accent) => ({
  table: {
    fill: regionThemes[region]?.fill ?? "#0c111e",
    line: regionThemes[region]?.line ?? "rgba(255,255,255,0.3)",
    accent: accent ?? regionThemes[region]?.accent ?? "rgba(120,200,255,0.4)",
  },
});

export const REGIONS = ["Americas", "Europe", "Africa", "Asia", "Oceania"];

export const REGION_LABELS = {
  Americas: { x: 0.08, y: 0.06 },
  Europe: { x: 0.36, y: 0.06 },
  Africa: { x: 0.36, y: 0.5 },
  Asia: { x: 0.66, y: 0.06 },
  Oceania: { x: 0.68, y: 0.64 },
};

export const REGION_HAZE = {
  Americas: { x: 0.06, y: 0.1, w: 0.28, h: 0.62 },
  Europe: { x: 0.32, y: 0.08, w: 0.26, h: 0.34 },
  Africa: { x: 0.32, y: 0.5, w: 0.28, h: 0.4 },
  Asia: { x: 0.62, y: 0.08, w: 0.32, h: 0.44 },
  Oceania: { x: 0.66, y: 0.62, w: 0.3, h: 0.32 },
};

export const STARTING_COUNTRIES = new Set(["usa", "uk", "egypt", "japan", "australia"]);

export const FINAL_NODE = {
  id: "world_finals",
  name: "World Finals",
  code: "WF",
  flag: "ðŸŒ",
  region: "Finals",
  difficulty: 10,
  aiStyle: "Adaptive",
  arenaName: "Crown Nexus",
  arenaTwist: "None",
  arenaTheme: themeFor("Europe", "rgba(255,215,120,0.6)"),
  arenaBackground: "Arenas/USA.png",
  x: 0.5,
  y: 0.38,
  nextIds: [],
  isFinal: true,
};

export const COUNTRIES = [
  {
    id: "usa",
    name: "USA",
    code: "US",
    flag: "ðŸ‡ºðŸ‡¸",
    region: "Americas",
    arenaName: "Arcade Dome",
    difficulty: 9,
    aiStyle: "Balanced",
    arenaTwist: "FasterResets",
    arenaTheme: themeFor("Americas", "rgba(80,220,180,0.6)"),
    x: 0.12,
    y: 0.16,
    nextIds: ["canada", "mexico"],
    isChampion: true,
  },
  {
    id: "canada",
    name: "Canada",
    code: "CA",
    flag: "ðŸ‡¨ðŸ‡¦",
    region: "Americas",
    arenaName: "Northern Rink",
    difficulty: 4,
    aiStyle: "Defensive",
    arenaTwist: "LowFriction",
    arenaTheme: themeFor("Americas", "rgba(160,210,255,0.6)"),
    x: 0.08,
    y: 0.1,
    nextIds: ["mexico"],
  },
  {
    id: "mexico",
    name: "Mexico",
    code: "MX",
    flag: "ðŸ‡²ðŸ‡½",
    region: "Americas",
    arenaName: "Solar Court",
    difficulty: 5,
    aiStyle: "Aggressive",
    arenaTwist: "SpeedBurstPeriodic",
    arenaTheme: themeFor("Americas", "rgba(255,180,90,0.55)"),
    x: 0.14,
    y: 0.26,
    nextIds: ["cuba"],
  },
  {
    id: "cuba",
    name: "Cuba",
    code: "CU",
    flag: "ðŸ‡¨ðŸ‡º",
    region: "Americas",
    arenaName: "Harbor Lights",
    difficulty: 5,
    aiStyle: "Trickster",
    arenaTwist: "MicroWallDeflections",
    arenaTheme: themeFor("Americas", "rgba(120,220,255,0.5)"),
    x: 0.2,
    y: 0.3,
    nextIds: ["jamaica"],
  },
  {
    id: "jamaica",
    name: "Jamaica",
    code: "JM",
    flag: "ðŸ‡¯ðŸ‡²",
    region: "Americas",
    arenaName: "Sprint Court",
    difficulty: 3,
    aiStyle: "Aggressive",
    arenaTwist: "HigherPaddleSpeed",
    arenaTheme: themeFor("Americas", "rgba(255,200,120,0.5)"),
    x: 0.24,
    y: 0.38,
    nextIds: ["colombia"],
  },
  {
    id: "colombia",
    name: "Colombia",
    code: "CO",
    flag: "ðŸ‡¨ðŸ‡´",
    region: "Americas",
    arenaName: "Emerald Hall",
    difficulty: 6,
    aiStyle: "Aggressive",
    arenaTwist: "AccelerationOverTime",
    arenaTheme: themeFor("Americas", "rgba(110,240,150,0.5)"),
    x: 0.22,
    y: 0.48,
    nextIds: ["peru"],
  },
  {
    id: "peru",
    name: "Peru",
    code: "PE",
    flag: "ðŸ‡µðŸ‡ª",
    region: "Americas",
    arenaName: "Stone Lines",
    difficulty: 4,
    aiStyle: "Defensive",
    arenaTwist: "HeavierPuck",
    arenaTheme: themeFor("Americas", "rgba(180,170,140,0.5)"),
    x: 0.16,
    y: 0.56,
    nextIds: ["chile"],
  },
  {
    id: "chile",
    name: "Chile",
    code: "CL",
    flag: "ðŸ‡¨ðŸ‡±",
    region: "Americas",
    arenaName: "Ridge Run",
    difficulty: 5,
    aiStyle: "Trickster",
    arenaTwist: "HighBounceWalls",
    arenaTheme: themeFor("Americas", "rgba(180,200,220,0.5)"),
    x: 0.1,
    y: 0.66,
    nextIds: ["argentina"],
  },
  {
    id: "argentina",
    name: "Argentina",
    code: "AR",
    flag: "ðŸ‡¦ðŸ‡·",
    region: "Americas",
    arenaName: "Pampas Arena",
    difficulty: 6,
    aiStyle: "Balanced",
    arenaTwist: "SideDrift",
    arenaTheme: themeFor("Americas", "rgba(180,210,240,0.5)"),
    x: 0.12,
    y: 0.76,
    nextIds: ["brazil"],
  },
  {
    id: "brazil",
    name: "Brazil",
    code: "BR",
    flag: "ðŸ‡§ðŸ‡·",
    region: "Americas",
    arenaName: "Carnaval Circuit",
    difficulty: 9,
    aiStyle: "Trickster",
    arenaTwist: "SpinBoost",
    arenaTheme: themeFor("Americas", "rgba(255,160,120,0.5)"),
    x: 0.2,
    y: 0.7,
    nextIds: [],
    isChampion: true,
  },
  {
    id: "uk",
    name: "United Kingdom",
    code: "GB",
    flag: "ðŸ‡¬ðŸ‡§",
    region: "Europe",
    arenaName: "Royal Pitch",
    difficulty: 5,
    aiStyle: "Defensive",
    arenaTwist: "SmallerGoals",
    arenaTheme: themeFor("Europe", "rgba(160,150,255,0.55)"),
    arenaBackground: "Arenas/UK.png",
    x: 0.36,
    y: 0.12,
    nextIds: ["ireland"],
  },
  {
    id: "ireland",
    name: "Ireland",
    code: "IE",
    flag: "ðŸ‡®ðŸ‡ª",
    region: "Europe",
    arenaName: "Clover Green",
    difficulty: 3,
    aiStyle: "Defensive",
    arenaTwist: "HighFriction",
    arenaTheme: themeFor("Europe", "rgba(120,220,160,0.55)"),
    x: 0.3,
    y: 0.18,
    nextIds: ["france"],
  },
  {
    id: "france",
    name: "France",
    code: "FR",
    flag: "ðŸ‡«ðŸ‡·",
    region: "Europe",
    arenaName: "Neon Boulevard",
    difficulty: 6,
    aiStyle: "Trickster",
    arenaTwist: "SpinBoost",
    arenaTheme: themeFor("Europe", "rgba(200,140,255,0.5)"),
    x: 0.38,
    y: 0.2,
    nextIds: ["spain"],
  },
  {
    id: "spain",
    name: "Spain",
    code: "ES",
    flag: "ðŸ‡ªðŸ‡¸",
    region: "Europe",
    arenaName: "Sunline Arena",
    difficulty: 6,
    aiStyle: "Aggressive",
    arenaTwist: "SpeedBurstPeriodic",
    arenaTheme: themeFor("Europe", "rgba(255,180,120,0.5)"),
    x: 0.32,
    y: 0.24,
    nextIds: ["portugal"],
  },
  {
    id: "portugal",
    name: "Portugal",
    code: "PT",
    flag: "ðŸ‡µðŸ‡¹",
    region: "Europe",
    arenaName: "Atlantic Glass",
    difficulty: 4,
    aiStyle: "Balanced",
    arenaTwist: "LowFriction",
    arenaTheme: themeFor("Europe", "rgba(120,210,255,0.5)"),
    x: 0.28,
    y: 0.28,
    nextIds: ["italy"],
  },
  {
    id: "italy",
    name: "Italy",
    code: "IT",
    flag: "ðŸ‡®ðŸ‡¹",
    region: "Europe",
    arenaName: "Marble Court",
    difficulty: 6,
    aiStyle: "Trickster",
    arenaTwist: "HighBounceWalls",
    arenaTheme: themeFor("Europe", "rgba(200,200,230,0.5)"),
    x: 0.4,
    y: 0.28,
    nextIds: ["netherlands"],
  },
  {
    id: "netherlands",
    name: "Netherlands",
    code: "NL",
    flag: "ðŸ‡³ðŸ‡±",
    region: "Europe",
    arenaName: "Canal Circuit",
    difficulty: 5,
    aiStyle: "Trickster",
    arenaTwist: "MicroWallDeflections",
    arenaTheme: themeFor("Europe", "rgba(140,200,255,0.5)"),
    x: 0.44,
    y: 0.2,
    nextIds: ["sweden"],
  },
  {
    id: "sweden",
    name: "Sweden",
    code: "SE",
    flag: "ðŸ‡¸ðŸ‡ª",
    region: "Europe",
    arenaName: "Aurora Rink",
    difficulty: 7,
    aiStyle: "Balanced",
    arenaTwist: "AccelerationOverTime",
    arenaTheme: themeFor("Europe", "rgba(140,220,255,0.5)"),
    x: 0.48,
    y: 0.16,
    nextIds: ["norway"],
  },
  {
    id: "norway",
    name: "Norway",
    code: "NO",
    flag: "ðŸ‡³ðŸ‡´",
    region: "Europe",
    arenaName: "Fjord Freeze",
    difficulty: 6,
    aiStyle: "Defensive",
    arenaTwist: "LowFriction",
    arenaTheme: themeFor("Europe", "rgba(160,220,255,0.5)"),
    x: 0.52,
    y: 0.12,
    nextIds: ["finland"],
  },
  {
    id: "finland",
    name: "Finland",
    code: "FI",
    flag: "ðŸ‡«ðŸ‡®",
    region: "Europe",
    arenaName: "Silent Ice",
    difficulty: 7,
    aiStyle: "Defensive",
    arenaTwist: "SmallerGoals",
    arenaTheme: themeFor("Europe", "rgba(160,210,255,0.5)"),
    x: 0.5,
    y: 0.2,
    nextIds: ["poland"],
  },
  {
    id: "poland",
    name: "Poland",
    code: "PL",
    flag: "ðŸ‡µðŸ‡±",
    region: "Europe",
    arenaName: "Edgeworks",
    difficulty: 6,
    aiStyle: "Aggressive",
    arenaTwist: "HigherMaxSpeed",
    arenaTheme: themeFor("Europe", "rgba(160,200,255,0.5)"),
    x: 0.52,
    y: 0.26,
    nextIds: ["germany"],
  },
  {
    id: "germany",
    name: "Germany",
    code: "DE",
    flag: "ðŸ‡©ðŸ‡ª",
    region: "Europe",
    arenaName: "Iron Grid",
    difficulty: 9,
    aiStyle: "Defensive",
    arenaTwist: "HeavierPuck",
    arenaTheme: themeFor("Europe", "rgba(200,200,220,0.6)"),
    x: 0.46,
    y: 0.3,
    nextIds: [],
    isChampion: true,
  },
  {
    id: "egypt",
    name: "Egypt",
    code: "EG",
    flag: "ðŸ‡ªðŸ‡¬",
    region: "Africa",
    arenaName: "Pharaoh Lines",
    difficulty: 4,
    aiStyle: "Trickster",
    arenaTwist: "SideDrift",
    arenaTheme: themeFor("Africa", "rgba(255,190,120,0.55)"),
    x: 0.36,
    y: 0.52,
    nextIds: ["morocco"],
  },
  {
    id: "morocco",
    name: "Morocco",
    code: "MA",
    flag: "ðŸ‡²ðŸ‡¦",
    region: "Africa",
    arenaName: "Mosaic Court",
    difficulty: 5,
    aiStyle: "Trickster",
    arenaTwist: "MicroWallDeflections",
    arenaTheme: themeFor("Africa", "rgba(255,190,120,0.45)"),
    x: 0.32,
    y: 0.6,
    nextIds: ["nigeria"],
  },
  {
    id: "nigeria",
    name: "Nigeria",
    code: "NG",
    flag: "ðŸ‡³ðŸ‡¬",
    region: "Africa",
    arenaName: "Pulse Arena",
    difficulty: 6,
    aiStyle: "Aggressive",
    arenaTwist: "SpeedBurstPeriodic",
    arenaTheme: themeFor("Africa", "rgba(255,170,110,0.5)"),
    x: 0.4,
    y: 0.62,
    nextIds: ["kenya"],
  },
  {
    id: "kenya",
    name: "Kenya",
    code: "KE",
    flag: "ðŸ‡°ðŸ‡ª",
    region: "Africa",
    arenaName: "Rift Valley Run",
    difficulty: 5,
    aiStyle: "Aggressive",
    arenaTwist: "HigherPaddleSpeed",
    arenaTheme: themeFor("Africa", "rgba(255,170,110,0.5)"),
    x: 0.46,
    y: 0.66,
    nextIds: ["southafrica"],
  },
  {
    id: "southafrica",
    name: "South Africa",
    code: "ZA",
    flag: "ðŸ‡¿ðŸ‡¦",
    region: "Africa",
    arenaName: "Cape Circuit",
    difficulty: 6,
    aiStyle: "Balanced",
    arenaTwist: "HighBounceWalls",
    arenaTheme: themeFor("Africa", "rgba(255,170,110,0.5)"),
    x: 0.44,
    y: 0.76,
    nextIds: ["ghana"],
  },
  {
    id: "ghana",
    name: "Ghana",
    code: "GH",
    flag: "ðŸ‡¬ðŸ‡­",
    region: "Africa",
    arenaName: "Gold Coast Grid",
    difficulty: 7,
    aiStyle: "Aggressive",
    arenaTwist: "AccelerationOverTime",
    arenaTheme: themeFor("Africa", "rgba(255,200,120,0.55)"),
    x: 0.38,
    y: 0.72,
    nextIds: ["senegal"],
  },
  {
    id: "senegal",
    name: "Senegal",
    code: "SN",
    flag: "ðŸ‡¸ðŸ‡³",
    region: "Africa",
    arenaName: "Dakar Drift",
    difficulty: 5,
    aiStyle: "Balanced",
    arenaTwist: "SideDrift",
    arenaTheme: themeFor("Africa", "rgba(255,170,110,0.5)"),
    x: 0.34,
    y: 0.68,
    nextIds: ["tunisia"],
  },
  {
    id: "tunisia",
    name: "Tunisia",
    code: "TN",
    flag: "ðŸ‡¹ðŸ‡³",
    region: "Africa",
    arenaName: "Desert Glass",
    difficulty: 6,
    aiStyle: "Defensive",
    arenaTwist: "LowFriction",
    arenaTheme: themeFor("Africa", "rgba(255,210,140,0.55)"),
    x: 0.42,
    y: 0.56,
    nextIds: [],
  },
  {
    id: "japan",
    name: "Japan",
    code: "JP",
    flag: "ðŸ‡¯ðŸ‡µ",
    region: "Asia",
    arenaName: "Precision Neon",
    difficulty: 9,
    aiStyle: "Defensive",
    arenaTwist: "PrecisionMode",
    arenaTheme: themeFor("Asia", "rgba(140,200,255,0.55)"),
    x: 0.76,
    y: 0.14,
    nextIds: ["china"],
    isChampion: true,
  },
  {
    id: "southkorea",
    name: "South Korea",
    code: "KR",
    flag: "ðŸ‡°ðŸ‡·",
    region: "Asia",
    arenaName: "Circuit Seoul",
    difficulty: 9,
    aiStyle: "Aggressive",
    arenaTwist: "HigherMaxSpeed",
    arenaTheme: themeFor("Asia", "rgba(140,200,255,0.55)"),
    x: 0.9,
    y: 0.18,
    nextIds: [],
    isChampion: true,
  },
  {
    id: "china",
    name: "China",
    code: "CN",
    flag: "ðŸ‡¨ðŸ‡³",
    region: "Asia",
    arenaName: "Dragon Court",
    difficulty: 7,
    aiStyle: "Balanced",
    arenaTwist: "HeavierPuck",
    arenaTheme: themeFor("Asia", "rgba(160,220,255,0.5)"),
    x: 0.7,
    y: 0.22,
    nextIds: ["india"],
  },
  {
    id: "india",
    name: "India",
    code: "IN",
    flag: "ðŸ‡®ðŸ‡³",
    region: "Asia",
    arenaName: "Festival Grid",
    difficulty: 6,
    aiStyle: "Trickster",
    arenaTwist: "SpeedBurstPeriodic",
    arenaTheme: themeFor("Asia", "rgba(160,220,255,0.5)"),
    x: 0.66,
    y: 0.28,
    nextIds: ["thailand"],
  },
  {
    id: "thailand",
    name: "Thailand",
    code: "TH",
    flag: "ðŸ‡¹ðŸ‡­",
    region: "Asia",
    arenaName: "Lotus Arena",
    difficulty: 5,
    aiStyle: "Trickster",
    arenaTwist: "SpinBoost",
    arenaTheme: themeFor("Asia", "rgba(160,220,255,0.5)"),
    x: 0.72,
    y: 0.32,
    nextIds: ["vietnam"],
  },
  {
    id: "vietnam",
    name: "Vietnam",
    code: "VN",
    flag: "ðŸ‡»ðŸ‡³",
    region: "Asia",
    arenaName: "Lantern Lines",
    difficulty: 5,
    aiStyle: "Balanced",
    arenaTwist: "HighBounceWalls",
    arenaTheme: themeFor("Asia", "rgba(140,220,255,0.5)"),
    x: 0.78,
    y: 0.3,
    nextIds: ["singapore"],
  },
  {
    id: "singapore",
    name: "Singapore",
    code: "SG",
    flag: "ðŸ‡¸ðŸ‡¬",
    region: "Asia",
    arenaName: "Skyline Circuit",
    difficulty: 7,
    aiStyle: "Defensive",
    arenaTwist: "SmallerGoals",
    arenaTheme: themeFor("Asia", "rgba(140,220,255,0.5)"),
    x: 0.82,
    y: 0.34,
    nextIds: ["malaysia"],
  },
  {
    id: "malaysia",
    name: "Malaysia",
    code: "MY",
    flag: "ðŸ‡²ðŸ‡¾",
    region: "Asia",
    arenaName: "Monsoon Hall",
    difficulty: 5,
    aiStyle: "Trickster",
    arenaTwist: "MicroWallDeflections",
    arenaTheme: themeFor("Asia", "rgba(140,220,255,0.5)"),
    x: 0.74,
    y: 0.38,
    nextIds: ["indonesia"],
  },
  {
    id: "indonesia",
    name: "Indonesia",
    code: "ID",
    flag: "ðŸ‡®ðŸ‡©",
    region: "Asia",
    arenaName: "Island Chain",
    difficulty: 6,
    aiStyle: "Balanced",
    arenaTwist: "SideDrift",
    arenaTheme: themeFor("Asia", "rgba(140,220,255,0.5)"),
    x: 0.8,
    y: 0.42,
    nextIds: ["philippines"],
  },
  {
    id: "philippines",
    name: "Philippines",
    code: "PH",
    flag: "ðŸ‡µðŸ‡­",
    region: "Asia",
    arenaName: "Harbor Neon",
    difficulty: 5,
    aiStyle: "Aggressive",
    arenaTwist: "LowFriction",
    arenaTheme: themeFor("Asia", "rgba(140,220,255,0.5)"),
    x: 0.86,
    y: 0.38,
    nextIds: ["turkey"],
  },
  {
    id: "turkey",
    name: "Turkey",
    code: "TR",
    flag: "ðŸ‡¹ðŸ‡·",
    region: "Asia",
    arenaName: "Bazaar Arena",
    difficulty: 6,
    aiStyle: "Defensive",
    arenaTwist: "HighFriction",
    arenaTheme: themeFor("Asia", "rgba(140,220,255,0.5)"),
    x: 0.68,
    y: 0.36,
    nextIds: ["saudiarabia"],
  },
  {
    id: "saudiarabia",
    name: "Saudi Arabia",
    code: "SA",
    flag: "ðŸ‡¸ðŸ‡¦",
    region: "Asia",
    arenaName: "Desert Chrome",
    difficulty: 7,
    aiStyle: "Balanced",
    arenaTwist: "HigherMaxSpeed",
    arenaTheme: themeFor("Asia", "rgba(140,220,255,0.5)"),
    x: 0.62,
    y: 0.4,
    nextIds: ["uae"],
  },
  {
    id: "uae",
    name: "UAE",
    code: "AE",
    flag: "ðŸ‡¦ðŸ‡ª",
    region: "Asia",
    arenaName: "Mirage Circuit",
    difficulty: 7,
    aiStyle: "Aggressive",
    arenaTwist: "SpeedBurstPeriodic",
    arenaTheme: themeFor("Asia", "rgba(140,220,255,0.5)"),
    x: 0.66,
    y: 0.44,
    nextIds: ["israel"],
  },
  {
    id: "israel",
    name: "Israel",
    code: "IL",
    flag: "ðŸ‡®ðŸ‡±",
    region: "Asia",
    arenaName: "Prism Court",
    difficulty: 6,
    aiStyle: "Defensive",
    arenaTwist: "SmallerGoals",
    arenaTheme: themeFor("Asia", "rgba(140,220,255,0.5)"),
    x: 0.6,
    y: 0.34,
    nextIds: ["kazakhstan"],
  },
  {
    id: "kazakhstan",
    name: "Kazakhstan",
    code: "KZ",
    flag: "ðŸ‡°ðŸ‡¿",
    region: "Asia",
    arenaName: "Steppe Run",
    difficulty: 6,
    aiStyle: "Balanced",
    arenaTwist: "AccelerationOverTime",
    arenaTheme: themeFor("Asia", "rgba(140,220,255,0.5)"),
    x: 0.64,
    y: 0.2,
    nextIds: ["southkorea"],
  },
  {
    id: "australia",
    name: "Australia",
    code: "AU",
    flag: "ðŸ‡¦ðŸ‡º",
    region: "Oceania",
    arenaName: "Outback Arena",
    difficulty: 6,
    aiStyle: "Aggressive",
    arenaTwist: "HighBounceWalls",
    arenaTheme: themeFor("Oceania", "rgba(120,200,200,0.5)"),
    x: 0.8,
    y: 0.82,
    nextIds: ["newzealand"],
  },
  {
    id: "newzealand",
    name: "New Zealand",
    code: "NZ",
    flag: "ðŸ‡³ðŸ‡¿",
    region: "Oceania",
    arenaName: "Koru Rink",
    difficulty: 5,
    aiStyle: "Balanced",
    arenaTwist: "LowFriction",
    arenaTheme: themeFor("Oceania", "rgba(120,220,220,0.5)"),
    x: 0.82,
    y: 0.9,
    nextIds: ["fiji"],
  },
  {
    id: "fiji",
    name: "Fiji",
    code: "FJ",
    flag: "ðŸ‡«ðŸ‡¯",
    region: "Oceania",
    arenaName: "Reef Glow",
    difficulty: 4,
    aiStyle: "Trickster",
    arenaTwist: "SpinBoost",
    arenaTheme: themeFor("Oceania", "rgba(120,200,255,0.5)"),
    x: 0.9,
    y: 0.78,
    nextIds: ["papuanewguinea"],
  },
  {
    id: "papuanewguinea",
    name: "Papua New Guinea",
    code: "PG",
    flag: "ðŸ‡µðŸ‡¬",
    region: "Oceania",
    arenaName: "Jungle Lines",
    difficulty: 4,
    aiStyle: "Trickster",
    arenaTwist: "MicroWallDeflections",
    arenaTheme: themeFor("Oceania", "rgba(120,200,160,0.5)"),
    x: 0.88,
    y: 0.72,
    nextIds: ["samoa"],
  },
  {
    id: "samoa",
    name: "Samoa",
    code: "WS",
    flag: "ðŸ‡¼ðŸ‡¸",
    region: "Oceania",
    arenaName: "Wave Court",
    difficulty: 5,
    aiStyle: "Balanced",
    arenaTwist: "SideDrift",
    arenaTheme: themeFor("Oceania", "rgba(140,220,200,0.5)"),
    x: 0.92,
    y: 0.86,
    nextIds: [],
  },
];

export const CHAMPION_IDS = new Set(["usa", "brazil", "germany", "japan", "southkorea"]);

export const countryById = new Map(COUNTRIES.map((country) => [country.id, country]));

export const getCountry = (id) => countryById.get(id);

export const getRegionCountries = (region) => COUNTRIES.filter((country) => country.region === region);

export const getRegionNonChampions = (region) =>
  COUNTRIES.filter((country) => country.region === region && !country.isChampion);

export const getEdges = () => {
  const edges = [];
  COUNTRIES.forEach((country) => {
    country.nextIds.forEach((nextId) => {
      edges.push({ from: country.id, to: nextId });
    });
  });
  CHAMPION_IDS.forEach((championId) => {
    edges.push({ from: championId, to: FINAL_NODE.id });
  });
  return edges;
};

export const getRegionHaze = (region) => ({
  ...(REGION_HAZE[region] ?? { x: 0.1, y: 0.1, w: 0.2, h: 0.2 }),
  color: regionThemes[region]?.haze ?? "rgba(255,255,255,0.1)",
});
